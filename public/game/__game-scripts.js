var xrcontroller=pc.createScript("xrcontroller");xrcontroller.attributes.add("disableWorldTracking",{type:"boolean"}),xrcontroller.attributes.add("shadowmaterial",{type:"asset"}),xrcontroller.prototype.initialize=function(){const a=this.disableWorldTracking;this.shadowmaterial&&XRExtras.PlayCanvas.makeShadowMaterial({pc:pc,material:this.shadowmaterial});const r=XRExtras.PlayCanvas.findOneCamera(this.entity);XRExtras.Loading.showLoading({onxrloaded:(({pcCamera:r,pcApp:e},t)=>()=>{XR8.XrController.configure({disableWorldTracking:a});const o={canvas:document.getElementById("application-canvas")};XR8.PlayCanvas.run({pcCamera:r,pcApp:e},t,o)})({pcCamera:r,pcApp:this.app},[XRExtras.AlmostThere.pipelineModule(),XRExtras.Loading.pipelineModule(),XRExtras.RuntimeError.pipelineModule(),XR8.XrController.pipelineModule()])})};var taprecenter=pc.createScript("taprecenter");taprecenter.prototype.initialize=function(){this.app.touch.on(pc.EVENT_TOUCHSTART,(e=>{1===e.touches.length&&this.app.fire("xr:recenter")}))};pc.script.createLoadingScreen((function(e){var t,a;t=["body {","    background-color: #000000;","}","","#application-splash-wrapper {","    position: absolute;","    top: 0;","    left: 0;","    height: 100%;","    width: 100%;","    background-color: #000000;","}","","#application-splash {","    position: absolute;","    top: calc(50% - 28px);","    width: 264px;","    left: calc(50% - 132px);","}","","#application-splash img {","    width: 100%;","}","","#progress-bar-container {","    margin: 20px auto 0 auto;","    height: 2px;","    width: 100%;","    background-color: #1d292c;","}","","#progress-bar {","    width: 0%;","    height: 100%;","    background-color: #f60;","}","","@media (max-width: 480px) {","    #application-splash {","        width: 170px;","        left: calc(50% - 85px);","    }","}"].join("\n"),(a=document.createElement("style")).type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),document.head.appendChild(a),function(){var e=document.createElement("div");e.id="application-splash-wrapper",document.body.appendChild(e);var t=document.createElement("div");t.id="application-splash",e.appendChild(t),t.style.display="none";var a=document.createElement("img");a.src="https://playcanvas.com/static-assets/images/play_text_252_white.png",a.onload=function(){t.style.display="block"};var o=document.createElement("div");o.id="progress-bar-container",t.appendChild(o);var n=document.createElement("div");n.id="progress-bar",o.appendChild(n)}(),e.on("preload:end",(function(){e.off("preload:progress")})),e.on("preload:progress",(function(e){var t=document.getElementById("progress-bar");t&&(e=Math.min(1,Math.max(0,e)),t.style.width=100*e+"%")})),e.on("start",(function(){var e=document.getElementById("application-splash-wrapper");e.parentElement.removeChild(e)}))}));var EntitySetEnable=pc.createScript("entitySetEnable");EntitySetEnable.attributes.add("Settings",{type:"json",schema:[{name:"ConsoleLogging",title:"Console logging",type:"boolean",default:!1},{name:"ReceiveEvent",title:"Receive Event",type:"string"},{name:"IsLocalEvent",title:"Is Local Event",type:"boolean",default:!1},{name:"EntitiesToEffect",title:"Entities To Effect",type:"entity",array:!0},{name:"Delay",title:"Delay",type:"number",default:0},{name:"EnabledState",title:"Enabled State To Set",type:"string",enum:[{Enable:"Enable"},{Disable:"Disable"},{Toggle:"Toggle"}],default:"Disable"}]}),EntitySetEnable.prototype.initialize=function(){this.Settings.IsLocalEvent?this.entity.on(this.Settings.ReceiveEvent,this.setEntityEnableState,this):this.app.on(this.Settings.ReceiveEvent,this.setEntityEnableState,this)},EntitySetEnable.prototype.setEntityEnableState=function(){var e=this;function setEnableState(e,t){switch(e){case"Enable":t.enabled=!0;break;case"Disable":t.enabled=!1;break;case"Toggle":t.enabled=!t.enabled}}setTimeout((function(){if(e.Settings.EntitiesToEffect.length>0)for(var t=0;t<e.Settings.EntitiesToEffect.length;t++)setEnableState(e.Settings.EnabledState,e.Settings.EntitiesToEffect[t]);else setEnableState(e.Settings.EnabledState,e.entity)}),1e3*this.DelayInSeconds)};var Button2devent=pc.createScript("button2devent");Button2devent.attributes.add("Settings",{type:"json",schema:[{name:"ConsoleLogging",title:"Console logging",type:"boolean",default:!1},{name:"AlertLogging",title:"Alert logging",type:"boolean",default:!1},{name:"FireEvent",title:"Fire Event",type:"string"},{name:"IsLocalEvent",title:"Is Local Event",type:"boolean",default:!1}]}),Button2devent.prototype.initialize=function(){this.entity.button.on("click",(function(){this.Settings.AlertLogging&&alert("Button clicked!"),this.Settings.IsLocalEvent?this.entity.fire(this.Settings.FireEvent):this.app.fire(this.Settings.FireEvent)}),this)};var CounterScript=pc.createScript("counterScript");CounterScript.attributes.add("targetEntity",{type:"entity",title:"Target Entity",description:"The entity with the rigidbody and collider"}),CounterScript.attributes.add("textElement",{type:"entity",title:"Text Element",description:"The text element to display the count"}),CounterScript.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity",description:"The camera entity for raycasting"}),CounterScript.prototype.initialize=function(){this.count=0,this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this)},CounterScript.prototype.updateText=function(){this.textElement.element.text=this.count},CounterScript.prototype.onMouseDown=function(t){var e=this.cameraEntity.camera.screenToWorld(t.x,t.y,this.cameraEntity.camera.nearClip),i=this.cameraEntity.camera.screenToWorld(t.x,t.y,this.cameraEntity.camera.farClip),n=this.app.systems.rigidbody.raycastFirst(e,i);n&&n.entity===this.targetEntity&&this.count<5&&(this.count++,this.updateText(),5===this.count&&this.sendExitMessage())},CounterScript.prototype.sendExitMessage=function(){window.parent&&window.parent.postMessage({action:"exitAR"},"*")};